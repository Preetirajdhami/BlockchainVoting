(()=>{var e={};e.id=196,e.ids=[196],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},6005:e=>{"use strict";e.exports=require("node:crypto")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5140:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(5006),t(7346),t(5866);var a=t(3191),l=t(8716),r=t(7922),i=t.n(r),n=t(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["admin",{children:["adminPanel",{children:["add-details",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5006)),"/Users/manojshrestha/blockchain-voting/frontend/src/app/admin/adminPanel/add-details/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,7346)),"/Users/manojshrestha/blockchain-voting/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/manojshrestha/blockchain-voting/frontend/src/app/admin/adminPanel/add-details/page.tsx"],x="/admin/adminPanel/add-details/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/adminPanel/add-details/page",pathname:"/admin/adminPanel/add-details",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5197:(e,s,t)=>{Promise.resolve().then(t.bind(t,6350))},6350:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(326),l=t(7577),r=t(7039),i=t(3546);let n=async e=>{let s=new FormData;s.append("file",e);try{let e=await fetch("http://127.0.0.1:5001/api/v0/add",{method:"POST",body:s});if(!e.ok)throw Error("Failed to upload to IPFS: Network response was not ok");let t=await e.json();return console.log("File uploaded to IPFS:",t),t.Hash}catch(e){throw console.error("Error uploading to IPFS:",e),e}};var o=t(35),d=t(6226),c=t(4046);let x=()=>{let[e,s]=(0,l.useState)({firstName:"",lastName:"",position:"",addressInfo:""}),[t,x]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(null),[g,f]=(0,l.useState)(null),[j,b]=(0,l.useState)(!1),[N,v]=(0,l.useState)(""),[y,w]=(0,l.useState)(""),B=(0,l.useRef)(null),P=(0,l.useRef)(null),C=t=>{s({...e,[t.target.name]:t.target.value})},k=(e,s,t)=>{let a=e.target.files?.[0];if(a){s(a);let e=new FileReader;e.onloadend=()=>{t(e.result)},e.readAsDataURL(a)}else s(null),t(null)},q=async()=>{b(!0),w(""),v("");try{if(!e.firstName||!e.lastName||!e.position||!e.addressInfo)throw Error("All fields are required.");if(!t||!u)throw Error("Both profile and logo images are required.");let a=new r.Q(window.ethereum);if(!await a.getSigner())throw Error("Signer not available. Connect your wallet first.");let l=await n(t),o=await n(u),d=await (0,i.Z)(),c=await d.addCandidate(e.firstName,e.lastName,e.position,e.addressInfo,l,o);await c.wait(),v("Candidate added successfully!"),s({firstName:"",lastName:"",position:"",addressInfo:""}),x(null),m(null),p(null),f(null)}catch(e){console.error("Error adding candidate:",e),w(e.message||"Failed to add candidate. Please try again.")}finally{b(!1)}};return a.jsx(o.Z,{children:a.jsx("div",{className:"min-h-screen py-8 px-6",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-logoBlue/10 rounded-full px-6 py-3 mb-6",children:[a.jsx(c.Bj$,{className:"text-logoBlue"}),a.jsx("span",{className:"text-logoBlue font-semibold",children:"Add New Candidate"})]}),a.jsx("h1",{className:"text-4xl font-bold text-logoBlue mb-4",children:"Register Candidate"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Add a new candidate to the election with their details and images"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-logoBlue to-bgBlue px-8 py-8 text-white relative",children:[a.jsx("div",{className:"absolute top-4 left-4 w-8 h-8 border-2 border-white/20 rounded-lg rotate-45"}),a.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 bg-popBlue/30 rounded-full animate-pulse"}),(0,a.jsxs)("div",{className:"text-center relative",children:[a.jsx("div",{className:"w-16 h-16 bg-popBlue rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(c.Bj$,{className:"text-3xl text-bgBlue"})}),a.jsx("h2",{className:"text-2xl font-bold",children:"Candidate Registration Form"}),a.jsx("p",{className:"text-blue-100 mt-2",children:"Fill in all required information"})]})]}),(0,a.jsxs)("div",{className:"p-8 space-y-8",children:[N&&a.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-xl",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(c.FJM,{className:"h-5 w-5 text-green-400"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-green-700 font-medium",children:N})})]})}),y&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-r-xl",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700",children:y})})]})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[a.jsx(c.Xws,{className:"text-logoBlue"}),a.jsx("span",{children:"First Name"})]}),a.jsx("input",{type:"text",name:"firstName",value:e.firstName,onChange:C,placeholder:"Enter first name",className:"w-full px-6 py-4 bg-gray-50 border-0 rounded-2xl focus:bg-white focus:ring-2 focus:ring-logoBlue focus:outline-none transition-all duration-300 text-lg"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[a.jsx(c.Xws,{className:"text-logoBlue"}),a.jsx("span",{children:"Last Name"})]}),a.jsx("input",{type:"text",name:"lastName",value:e.lastName,onChange:C,placeholder:"Enter last name",className:"w-full px-6 py-4 bg-gray-50 border-0 rounded-2xl focus:bg-white focus:ring-2 focus:ring-logoBlue focus:outline-none transition-all duration-300 text-lg"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[a.jsx(c.Bj$,{className:"text-logoBlue"}),a.jsx("span",{children:"Position"})]}),a.jsx("input",{type:"text",name:"position",value:e.position,onChange:C,placeholder:"Enter position (e.g., President, Mayor, etc.)",className:"w-full px-6 py-4 bg-gray-50 border-0 rounded-2xl focus:bg-white focus:ring-2 focus:ring-logoBlue focus:outline-none transition-all duration-300 text-lg"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[a.jsx(c.Nh4,{className:"text-logoBlue"}),a.jsx("span",{children:"Address"})]}),a.jsx("input",{type:"text",name:"addressInfo",value:e.addressInfo,onChange:C,placeholder:"Enter full address",className:"w-full px-6 py-4 bg-gray-50 border-0 rounded-2xl focus:bg-white focus:ring-2 focus:ring-logoBlue focus:outline-none transition-all duration-300 text-lg"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[a.jsx(c.Dmm,{className:"text-logoBlue"}),a.jsx("span",{children:"Profile Image"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center hover:border-logoBlue transition-colors duration-300 relative",children:[h?(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-24 h-24 mx-auto rounded-full overflow-hidden border-4 border-logoBlue/20",children:a.jsx(d.default,{height:96,width:96,src:h,alt:"Profile Preview",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),x(null),p(null)},className:"text-red-600 hover:text-red-700 text-sm font-medium px-3 py-1 rounded-lg hover:bg-red-50 transition-colors",children:"Remove Image"}),a.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),B.current?.click()},className:"text-logoBlue hover:text-logoBlue/80 text-sm font-medium px-3 py-1 rounded-lg hover:bg-logoBlue/10 transition-colors",children:"Change Image"})]})]}):(0,a.jsxs)("div",{className:"space-y-4 cursor-pointer",onClick:()=>B.current?.click(),children:[a.jsx("div",{className:"w-16 h-16 bg-logoBlue/10 rounded-full flex items-center justify-center mx-auto",children:a.jsx(c.Dmm,{className:"text-2xl text-logoBlue"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Upload profile image"}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]})]}),a.jsx("input",{ref:B,type:"file",accept:"image/*",onChange:e=>k(e,x,p),className:"hidden"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[a.jsx(c.H3h,{className:"text-logoBlue"}),a.jsx("span",{children:"Logo Image"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center hover:border-logoBlue transition-colors duration-300 relative",children:[g?(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-24 h-24 mx-auto rounded-2xl overflow-hidden border-4 border-logoBlue/20",children:a.jsx(d.default,{height:96,width:96,src:g,alt:"Logo Preview",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),m(null),f(null)},className:"text-red-600 hover:text-red-700 text-sm font-medium px-3 py-1 rounded-lg hover:bg-red-50 transition-colors",children:"Remove Image"}),a.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),P.current?.click()},className:"text-logoBlue hover:text-logoBlue/80 text-sm font-medium px-3 py-1 rounded-lg hover:bg-logoBlue/10 transition-colors",children:"Change Image"})]})]}):(0,a.jsxs)("div",{className:"space-y-4 cursor-pointer",onClick:()=>P.current?.click(),children:[a.jsx("div",{className:"w-16 h-16 bg-logoBlue/10 rounded-2xl flex items-center justify-center mx-auto",children:a.jsx(c.H3h,{className:"text-2xl text-logoBlue"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Upload logo image"}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]})]}),a.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:e=>k(e,m,f),className:"hidden"})]})]})]}),a.jsx("button",{onClick:q,disabled:j,className:`w-full py-4 bg-gradient-to-r from-logoBlue to-bgBlue text-white font-bold text-lg rounded-2xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 ${j?"opacity-75 cursor-not-allowed":"hover:scale-[1.02]"}`,children:j?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx(c.fCD,{className:"animate-spin"}),a.jsx("span",{children:"Adding Candidate..."})]}):(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(c.Bj$,{}),a.jsx("span",{children:"Add Candidate"})]})})]})]}),a.jsx("div",{className:"mt-8 bg-logoBlue/5 rounded-2xl p-6 border border-logoBlue/10",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-logoBlue rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(c.Bj$,{className:"text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-logoBlue mb-2",children:"Adding Candidates"}),(0,a.jsxs)("div",{className:"text-gray-600 text-sm space-y-1",children:[a.jsx("p",{children:"• Make sure to fill in all required fields"}),a.jsx("p",{children:"• Profile image should clearly show the candidate's face"}),a.jsx("p",{children:"• Logo image will be displayed as the candidate's symbol"}),a.jsx("p",{children:"• Images will be stored securely on IPFS"}),a.jsx("p",{children:"• Transaction will be recorded on blockchain for transparency"})]})]})]})})]})})})}},5006:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/Users/manojshrestha/blockchain-voting/frontend/src/app/admin/adminPanel/add-details/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,823,596,434,226,666,255],()=>t(5140));module.exports=a})();