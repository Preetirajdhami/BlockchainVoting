(()=>{var e={};e.id=235,e.ids=[235],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},6005:e=>{"use strict";e.exports=require("node:crypto")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},7011:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(8652),t(7346),t(5866);var r=t(3191),a=t(8716),n=t(7922),l=t.n(n),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c=["",{children:["admin",{children:["adminPanel",{children:["reset",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8652)),"/Users/manojshrestha/blockchain-voting/frontend/src/app/admin/adminPanel/reset/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,7346)),"/Users/manojshrestha/blockchain-voting/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/manojshrestha/blockchain-voting/frontend/src/app/admin/adminPanel/reset/page.tsx"],x="/admin/adminPanel/reset/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/adminPanel/reset/page",pathname:"/admin/adminPanel/reset",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4152:(e,s,t)=>{Promise.resolve().then(t.bind(t,7340))},7340:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(326),a=t(7577),n=t(3546),l=t(35),i=t(4046);let d=()=>{let[e,s]=(0,a.useState)(!1),[t,d]=(0,a.useState)(""),[c,o]=(0,a.useState)(""),[x,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)(null),p=async()=>{s(!0),d(""),o(""),u(null);try{let e=await (0,n.Z)(),s=await e.resetCandidates();d("Transaction sent. Waiting for confirmation..."),o("");let t=await s.wait();u(t.transactionHash),d("Election has been successfully reset! All candidate data has been cleared."),o("success")}catch(e){console.error("Error resetting candidates:",e),e instanceof Error?d(`Error: ${e.message}`):d("An unexpected error occurred while resetting the election."),o("error")}finally{s(!1)}};return(0,r.jsxs)(l.Z,{children:[r.jsx("div",{className:"min-h-screen py-8 px-6",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-red-100 rounded-full px-6 py-3 mb-6",children:[r.jsx(i.wXW,{className:"text-red-600"}),r.jsx("span",{className:"text-red-600 font-semibold",children:"Reset Election"})]}),r.jsx("h1",{className:"text-4xl font-bold text-red-600 mb-4",children:"Reset Election Data"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Permanently remove all candidate information and reset the election"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-red-200 overflow-hidden mb-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-8 text-white relative",children:[r.jsx("div",{className:"absolute top-4 left-4 w-8 h-8 border-2 border-white/20 rounded-lg rotate-45"}),r.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 bg-white/30 rounded-full animate-pulse"}),(0,r.jsxs)("div",{className:"text-center relative",children:[r.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:r.jsx(i.gJy,{className:"text-4xl text-white"})}),r.jsx("h2",{className:"text-3xl font-bold mb-3",children:"⚠️ DANGER ZONE ⚠️"}),r.jsx("p",{className:"text-red-100 text-lg",children:"This action cannot be undone"})]})]}),r.jsx("div",{className:"p-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-6 rounded-r-xl",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx(i.gJy,{className:"text-red-500 text-xl flex-shrink-0 mt-1"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-bold text-red-800 text-lg mb-3",children:"Critical Warning"}),(0,r.jsxs)("div",{className:"text-red-700 space-y-2",children:[(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"All candidate data will be permanently deleted"})]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"All vote counts will be reset to zero"})]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"This action is recorded on the blockchain"})]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"There is no way to recover the data once reset"})]})]})]})]})}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:r.jsx(i.i1q,{className:"text-white"})}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Data Loss"}),r.jsx("p",{className:"text-sm text-gray-600",children:"All candidate information will be erased"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:r.jsx(i.Xm5,{className:"text-white"})}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Vote Reset"}),r.jsx("p",{className:"text-sm text-gray-600",children:"All votes will return to zero"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:r.jsx(i.bri,{className:"text-white"})}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Blockchain"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Transaction recorded permanently"})]})]}),t&&r.jsx("div",{className:`p-4 rounded-xl border-l-4 ${"success"===c?"bg-green-50 border-green-400":"error"===c?"bg-red-50 border-red-400":"bg-blue-50 border-blue-400"}`,children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:"success"===c?r.jsx(i.FJM,{className:"text-green-500"}):"error"===c?r.jsx(i.gJy,{className:"text-red-500"}):r.jsx(i.fCD,{className:"text-blue-500 animate-spin"})}),r.jsx("p",{className:`font-medium ${"success"===c?"text-green-700":"error"===c?"text-red-700":"text-blue-700"}`,children:t})]})}),h&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Transaction Details"}),(0,r.jsxs)("div",{className:"break-all text-sm text-gray-600",children:[r.jsx("strong",{children:"Hash:"})," ",r.jsx("a",{href:`https://etherscan.io/tx/${h}`,target:"_blank",rel:"noopener noreferrer",className:"text-logoBlue hover:underline",children:h})]})]}),r.jsx("div",{className:"text-center pt-4",children:r.jsx("button",{onClick:()=>m(!0),disabled:e,className:`px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 transform ${e?"bg-gray-400 text-white cursor-not-allowed":"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 hover:shadow-xl hover:scale-105"}`,children:e?(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(i.fCD,{className:"animate-spin"}),r.jsx("span",{children:"Resetting Election..."})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(i.wXW,{}),r.jsx("span",{children:"Reset Election"})]})})})]})})]}),r.jsx("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(i.bri,{className:"text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"When to Use Reset"}),(0,r.jsxs)("div",{className:"text-blue-800 text-sm space-y-1",children:[r.jsx("p",{children:"• Before starting a completely new election"}),r.jsx("p",{children:"• When you need to remove test candidates"}),r.jsx("p",{children:"• If there are issues with current election data"}),r.jsx("p",{children:"• To start fresh with a clean slate"})]})]})]})})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl max-w-md w-full overflow-hidden shadow-2xl",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-white text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(i.gJy,{className:"text-3xl"})}),r.jsx("h3",{className:"text-2xl font-bold",children:"Final Confirmation"})]}),r.jsx("div",{className:"p-8",children:(0,r.jsxs)("div",{className:"text-center space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-gray-800 font-semibold text-lg",children:"Are you absolutely sure?"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"This will permanently delete all candidate data and reset all vote counts. This action cannot be undone and will be recorded on the blockchain."})]}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[r.jsx("p",{className:"text-red-800 text-sm font-medium",children:'⚠️ Type "RESET" below to confirm this dangerous action'}),r.jsx("input",{type:"text",placeholder:"Type RESET to continue",className:"w-full mt-3 px-4 py-2 border border-red-300 rounded-lg focus:outline-none focus:border-red-500",onChange:e=>{}})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold",children:"Cancel"}),r.jsx("button",{onClick:()=>{m(!1),p()},className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors duration-200 font-semibold",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(i.wXW,{}),r.jsx("span",{children:"Reset Now"})]})})]})]})})]})})]})}},8652:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/manojshrestha/blockchain-voting/frontend/src/app/admin/adminPanel/reset/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,823,596,434,666,255],()=>t(7011));module.exports=r})();