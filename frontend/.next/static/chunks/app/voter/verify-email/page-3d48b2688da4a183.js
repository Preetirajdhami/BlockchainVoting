(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{5055:function(e,t,r){Promise.resolve().then(r.bind(r,4319))},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},4319:function(e,t,r){"use strict";r.r(t);var s=r(7437),l=r(9381),a=r(4245),i=r(2265),n=r(6463),o=r(1942);t.default=()=>{let e=(0,n.useRouter)(),[t,r]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[u,m]=(0,i.useState)(!1),x=(0,l.TA)({initialValues:{email:"",otp:""},validationSchema:a.Ry({email:a.Z_().email("Invalid email address").required("Email is required"),otp:a.Z_().length(4,"OTP must be exactly 4 digits").required("OTP is required")}),onSubmit:async t=>{m(!0),d("");try{let s=await fetch("https://blockchainvoting-z1xf.onrender.com/api/user/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,otp:t.otp})}),l=await s.json();if(!s.ok)throw Error(l.message||"Verification failed");r("Email verified successfully! Redirecting to login..."),setTimeout(()=>{e.push("/voter/voterLogin")},2e3)}catch(e){console.error("Verification Error:",e),d(e instanceof Error?e.message:"Verification failed")}finally{m(!1)}}});return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-logoBlue via-bgBlue to-logoBlue",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-20 left-10 w-64 h-64 bg-popBlue/10 rounded-full blur-3xl animate-pulse"}),(0,s.jsx)("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-navBlue/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/4 w-32 h-32 bg-orange/10 rounded-full blur-2xl animate-pulse delay-2000"})]}),(0,s.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen py-12 px-6",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-logoBlue to-bgBlue px-8 py-12 text-center text-white relative",children:[(0,s.jsx)("div",{className:"absolute top-4 left-4 w-8 h-8 border-2 border-white/20 rounded-lg rotate-45"}),(0,s.jsx)("div",{className:"absolute top-4 right-4 w-6 h-6 bg-popBlue/30 rounded-full animate-pulse"}),(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-white/20 rounded-full"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-popBlue to-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:(0,s.jsx)(o.SRX,{className:"text-3xl text-bgBlue"})}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-3",children:"Verify Your Email"}),(0,s.jsx)("p",{className:"text-blue-100 text-lg",children:"Enter the verification code sent to your email"}),(0,s.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mt-4 border border-white/20",children:[(0,s.jsx)(o.bri,{className:"text-popBlue text-sm"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Secure Verification"})]})]})]}),(0,s.jsxs)("div",{className:"p-8 space-y-8",children:[t&&(0,s.jsx)("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-xl animate-pulse",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(o.FJM,{className:"h-5 w-5 text-green-400"})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-green-700 font-medium",children:t})})]})}),c&&(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-r-xl",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-red-700",children:c})})]})}),(0,s.jsxs)("form",{onSubmit:x.handleSubmit,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[(0,s.jsx)(o.SRX,{className:"text-logoBlue"}),(0,s.jsx)("span",{children:"Email Address"})]}),(0,s.jsx)("div",{className:"relative group",children:(0,s.jsx)("input",{type:"email",name:"email",value:x.values.email,onChange:x.handleChange,onBlur:x.handleBlur,placeholder:"Enter your email address",className:"w-full px-6 py-4 bg-gray-50 border-0 rounded-2xl focus:bg-white focus:ring-2 focus:ring-logoBlue focus:outline-none transition-all duration-300 text-lg ".concat(x.touched.email&&x.errors.email?"ring-2 ring-red-500 bg-red-50":"group-hover:bg-white group-hover:shadow-md")})}),x.touched.email&&x.errors.email&&(0,s.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center space-x-1",children:[(0,s.jsx)("span",{children:"⚠"}),(0,s.jsx)("span",{children:x.errors.email})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[(0,s.jsx)(o.q2z,{className:"text-logoBlue"}),(0,s.jsx)("span",{children:"Verification Code (OTP)"})]}),(0,s.jsx)("div",{className:"relative group",children:(0,s.jsx)("input",{type:"text",name:"otp",value:x.values.otp,onChange:x.handleChange,onBlur:x.handleBlur,placeholder:"Enter 4-digit OTP",maxLength:4,className:"w-full px-6 py-4 bg-gray-50 border-0 rounded-2xl focus:bg-white focus:ring-2 focus:ring-logoBlue focus:outline-none transition-all duration-300 text-lg text-center tracking-widest font-bold".concat(x.touched.otp&&x.errors.otp?"ring-2 ring-red-500 bg-red-50":"group-hover:bg-white group-hover:shadow-md")})}),x.touched.otp&&x.errors.otp&&(0,s.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center space-x-1",children:[(0,s.jsx)("span",{children:"⚠"}),(0,s.jsx)("span",{children:x.errors.otp})]})]}),(0,s.jsx)("button",{type:"submit",disabled:u,className:"w-full py-4 bg-gradient-to-r from-logoBlue to-bgBlue text-white font-bold text-lg rounded-2xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 ".concat(u?"opacity-75 cursor-not-allowed":"hover:scale-[1.02]"),children:u?(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Verifying..."})]}):(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 group",children:[(0,s.jsx)(o.FJM,{}),(0,s.jsx)("span",{children:"Verify Email"}),(0,s.jsx)(o.Z1Y,{className:"transform group-hover:translate-x-1 transition-transform duration-300"})]})})]}),(0,s.jsx)("div",{className:"pt-6 border-t border-gray-100",children:(0,s.jsx)("div",{className:"bg-logoBlue/5 rounded-2xl p-4 border border-logoBlue/10",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(o.SRX,{className:"text-logoBlue mt-1 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-logoBlue text-sm mb-1",children:"Didn't receive the code?"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Check your spam folder or wait a few minutes for the email to arrive. If you still don't receive it, please contact our support team."}),(0,s.jsx)("button",{className:"text-logoBlue hover:text-bgBlue text-sm font-medium mt-2 hover:underline transition-colors duration-200",children:"Resend Code"})]})]})})})]})]}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-popBlue rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,s.jsx)(o.bri,{className:"text-bgBlue text-sm"})}),(0,s.jsx)("h3",{className:"font-semibold text-white text-sm mb-1",children:"Secure"}),(0,s.jsx)("p",{className:"text-xs text-gray-300",children:"End-to-end encrypted"})]}),(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-popBlue rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,s.jsx)(o.FJM,{className:"text-bgBlue text-sm"})}),(0,s.jsx)("h3",{className:"font-semibold text-white text-sm mb-1",children:"Verified"}),(0,s.jsx)("p",{className:"text-xs text-gray-300",children:"Identity confirmed"})]})]})]})})]})}},1810:function(e,t,r){"use strict";r.d(t,{w_:function(){return d}});var s=r(2265),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=s.createContext&&s.createContext(l),i=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var s,l;s=t,l=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>s.createElement(u,n({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:l,size:a,title:o}=e,d=function(e,t){if(null==e)return{};var r,s,l=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,i),u=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&s.createElement("title",null,o),e.children)};return void 0!==a?s.createElement(a.Consumer,null,e=>t(e)):t(l)}}},function(e){e.O(0,[699,349,971,23,744],function(){return e(e.s=5055)}),_N_E=e.O()}]);