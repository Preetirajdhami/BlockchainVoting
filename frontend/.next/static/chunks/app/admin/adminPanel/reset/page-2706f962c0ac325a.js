(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{3208:function(e,s,t){Promise.resolve().then(t.bind(t,5295))},5295:function(e,s,t){"use strict";t.r(s);var r=t(7437),l=t(2265),a=t(9695),n=t(8775),d=t(1942);s.default=()=>{let[e,s]=(0,l.useState)(!1),[t,c]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),[x,h]=(0,l.useState)(!1),[m,b]=(0,l.useState)(null),u=async()=>{s(!0),c(""),o(""),b(null);try{let e=await (0,a.Z)(),s=await e.resetCandidates();c("Transaction sent. Waiting for confirmation..."),o("");let t=await s.wait();b(t.transactionHash),c("Election has been successfully reset! All candidate data has been cleared."),o("success")}catch(e){console.error("Error resetting candidates:",e),e instanceof Error?c("Error: ".concat(e.message)):c("An unexpected error occurred while resetting the election."),o("error")}finally{s(!1)}};return(0,r.jsxs)(n.Z,{children:[(0,r.jsx)("div",{className:"min-h-screen py-8 px-6",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-red-100 rounded-full px-6 py-3 mb-6",children:[(0,r.jsx)(d.wXW,{className:"text-red-600"}),(0,r.jsx)("span",{className:"text-red-600 font-semibold",children:"Reset Election"})]}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-red-600 mb-4",children:"Reset Election Data"}),(0,r.jsx)("p",{className:"text-xl text-gray-600",children:"Permanently remove all candidate information and reset the election"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-red-200 overflow-hidden mb-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-8 text-white relative",children:[(0,r.jsx)("div",{className:"absolute top-4 left-4 w-8 h-8 border-2 border-white/20 rounded-lg rotate-45"}),(0,r.jsx)("div",{className:"absolute top-4 right-4 w-6 h-6 bg-white/30 rounded-full animate-pulse"}),(0,r.jsxs)("div",{className:"text-center relative",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:(0,r.jsx)(d.gJy,{className:"text-4xl text-white"})}),(0,r.jsx)("h2",{className:"text-3xl font-bold mb-3",children:"⚠️ DANGER ZONE ⚠️"}),(0,r.jsx)("p",{className:"text-red-100 text-lg",children:"This action cannot be undone"})]})]}),(0,r.jsx)("div",{className:"p-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-6 rounded-r-xl",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsx)(d.gJy,{className:"text-red-500 text-xl flex-shrink-0 mt-1"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-red-800 text-lg mb-3",children:"Critical Warning"}),(0,r.jsxs)("div",{className:"text-red-700 space-y-2",children:[(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"All candidate data will be permanently deleted"})]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"All vote counts will be reset to zero"})]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"This action is recorded on the blockchain"})]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"There is no way to recover the data once reset"})]})]})]})]})}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(d.i1q,{className:"text-white"})}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Data Loss"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"All candidate information will be erased"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(d.Xm5,{className:"text-white"})}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Vote Reset"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"All votes will return to zero"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(d.bri,{className:"text-white"})}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Blockchain"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Transaction recorded permanently"})]})]}),t&&(0,r.jsx)("div",{className:"p-4 rounded-xl border-l-4 ".concat("success"===i?"bg-green-50 border-green-400":"error"===i?"bg-red-50 border-red-400":"bg-blue-50 border-blue-400"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-1",children:"success"===i?(0,r.jsx)(d.FJM,{className:"text-green-500"}):"error"===i?(0,r.jsx)(d.gJy,{className:"text-red-500"}):(0,r.jsx)(d.fCD,{className:"text-blue-500 animate-spin"})}),(0,r.jsx)("p",{className:"font-medium ".concat("success"===i?"text-green-700":"error"===i?"text-red-700":"text-blue-700"),children:t})]})}),m&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Transaction Details"}),(0,r.jsxs)("div",{className:"break-all text-sm text-gray-600",children:[(0,r.jsx)("strong",{children:"Hash:"})," ",(0,r.jsx)("a",{href:"https://etherscan.io/tx/".concat(m),target:"_blank",rel:"noopener noreferrer",className:"text-logoBlue hover:underline",children:m})]})]}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsx)("button",{onClick:()=>h(!0),disabled:e,className:"px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 transform ".concat(e?"bg-gray-400 text-white cursor-not-allowed":"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 hover:shadow-xl hover:scale-105"),children:e?(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(d.fCD,{className:"animate-spin"}),(0,r.jsx)("span",{children:"Resetting Election..."})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.wXW,{}),(0,r.jsx)("span",{children:"Reset Election"})]})})})]})})]}),(0,r.jsx)("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(d.bri,{className:"text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"When to Use Reset"}),(0,r.jsxs)("div",{className:"text-blue-800 text-sm space-y-1",children:[(0,r.jsx)("p",{children:"• Before starting a completely new election"}),(0,r.jsx)("p",{children:"• When you need to remove test candidates"}),(0,r.jsx)("p",{children:"• If there are issues with current election data"}),(0,r.jsx)("p",{children:"• To start fresh with a clean slate"})]})]})]})})]})}),x&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl max-w-md w-full overflow-hidden shadow-2xl",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-white text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(d.gJy,{className:"text-3xl"})}),(0,r.jsx)("h3",{className:"text-2xl font-bold",children:"Final Confirmation"})]}),(0,r.jsx)("div",{className:"p-8",children:(0,r.jsxs)("div",{className:"text-center space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("p",{className:"text-gray-800 font-semibold text-lg",children:"Are you absolutely sure?"}),(0,r.jsx)("p",{className:"text-gray-600 leading-relaxed",children:"This will permanently delete all candidate data and reset all vote counts. This action cannot be undone and will be recorded on the blockchain."})]}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[(0,r.jsx)("p",{className:"text-red-800 text-sm font-medium",children:'⚠️ Type "RESET" below to confirm this dangerous action'}),(0,r.jsx)("input",{type:"text",placeholder:"Type RESET to continue",className:"w-full mt-3 px-4 py-2 border border-red-300 rounded-lg focus:outline-none focus:border-red-500",onChange:e=>{}})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>h(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{h(!1),u()},className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors duration-200 font-semibold",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)(d.wXW,{}),(0,r.jsx)("span",{children:"Reset Now"})]})})]})]})})]})})]})}}},function(e){e.O(0,[699,853,634,171,971,23,744],function(){return e(e.s=3208)}),_N_E=e.O()}]);