(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{5734:function(e,s,t){Promise.resolve().then(t.bind(t,340))},340:function(e,s,t){"use strict";t.r(s);var l=t(7437),a=t(2265),r=t(9695),d=t(8775),i=t(6648),n=t(1942);s.default=()=>{let[e,s]=(0,a.useState)([]),[t,o]=(0,a.useState)(!0),[c,x]=(0,a.useState)(null),m=async()=>{try{o(!0);let e=await (0,r.Z)(),t=(await e.getAllCandidates()).map(e=>({firstName:e.firstName,lastName:e.lastName,position:e.position,addressInfo:e.addressInfo,profileImageHash:e.profileImageHash,logoImageHash:e.logoImageHash,voteCount:Number(e.voteCount.toString())}));s(t)}catch(e){console.error("Error fetching candidates:",e),x("Failed to fetch candidates. Please try again.")}finally{o(!1)}};return((0,a.useEffect)(()=>{m()},[]),t)?(0,l.jsx)(d.Z,{children:(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 border-4 border-logoBlue border-t-transparent rounded-full animate-spin mx-auto"}),(0,l.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading candidates..."})]})})}):c?(0,l.jsx)(d.Z,{children:(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"max-w-md text-center p-8",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-8",children:(0,l.jsx)(n.gJy,{className:"text-4xl text-red-600"})}),(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Error Loading Data"}),(0,l.jsx)("p",{className:"text-red-600 mb-8 text-lg",children:c}),(0,l.jsx)("button",{onClick:m,className:"px-8 py-3 bg-logoBlue text-white rounded-xl hover:bg-bgBlue transition-colors duration-200 font-semibold",children:"Try Again"})]})})}):0===e.length?(0,l.jsx)(d.Z,{children:(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"max-w-md text-center p-8",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-8",children:(0,l.jsx)(n.Bj$,{className:"text-4xl text-gray-400"})}),(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Candidates Found"}),(0,l.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"There are no candidates registered yet. Add the first candidate to get started."}),(0,l.jsxs)("a",{href:"/admin/adminPanel/add-details",className:"inline-flex items-center space-x-2 px-8 py-3 bg-logoBlue text-white rounded-xl hover:bg-bgBlue transition-colors duration-200 font-semibold",children:[(0,l.jsx)(n.Bj$,{}),(0,l.jsx)("span",{children:"Add First Candidate"})]})]})})}):(0,l.jsx)(d.Z,{children:(0,l.jsxs)("div",{className:"p-6 md:p-8",children:[(0,l.jsx)("div",{className:"mb-12",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-logoBlue/10 rounded-full px-4 py-2 mb-4",children:[(0,l.jsx)(n.I$,{className:"text-logoBlue"}),(0,l.jsx)("span",{className:"text-logoBlue font-semibold",children:"Candidate Management"})]}),(0,l.jsx)("h1",{className:"text-4xl font-bold text-logoBlue mb-4",children:"Candidate Details"}),(0,l.jsx)("p",{className:"text-xl text-gray-600",children:"Manage and view all registered candidates for the election"})]}),(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-logoBlue",children:e.length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Total Candidates"})]})})})]})}),(0,l.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e,s)=>(0,l.jsxs)("div",{className:"group bg-white rounded-3xl border border-gray-200 hover:border-logoBlue/30 hover:shadow-2xl transition-all duration-500 overflow-hidden transform hover:-translate-y-2",children:[(0,l.jsxs)("div",{className:"relative p-6 bg-gradient-to-br from-gray-50 to-white",children:[(0,l.jsx)("div",{className:"text-center mb-6",children:(0,l.jsxs)("div",{className:"relative inline-block",children:[(0,l.jsx)("div",{className:"w-24 h-24 rounded-full border-4 border-logoBlue/20 overflow-hidden bg-gray-100",children:e.profileImageHash?(0,l.jsx)(i.default,{src:"https://ipfs.io/ipfs/".concat(e.profileImageHash),alt:"Profile",width:96,height:96,className:"w-full h-full object-cover",unoptimized:!0}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,l.jsx)(n.Xws,{className:"text-3xl text-gray-400"})})}),e.logoImageHash&&(0,l.jsx)("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 rounded-full border-2 border-white overflow-hidden bg-white shadow-lg",children:(0,l.jsx)(i.default,{src:"https://ipfs.io/ipfs/".concat(e.logoImageHash),alt:"Logo",width:40,height:40,className:"w-full h-full object-cover",unoptimized:!0})})]})}),(0,l.jsxs)("div",{className:"text-center space-y-3",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:[e.firstName," ",e.lastName]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-logoBlue/10 text-logoBlue px-3 py-1 rounded-full text-sm font-semibold",children:[(0,l.jsx)(n.Xws,{className:"text-xs"}),(0,l.jsx)("span",{children:e.position})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-gray-600 text-sm",children:[(0,l.jsx)(n.Nh4,{className:"text-xs"}),(0,l.jsx)("span",{children:e.addressInfo})]})]})]})]}),(0,l.jsx)("div",{className:"p-6 bg-white border-t border-gray-100",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-logoBlue/10 rounded-xl flex items-center justify-center",children:(0,l.jsx)(n.SRq,{className:"text-logoBlue"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-logoBlue",children:e.voteCount}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Votes Received"})]})]}),(0,l.jsx)("button",{className:"opacity-0 group-hover:opacity-100 p-3 bg-logoBlue/10 hover:bg-logoBlue hover:text-white text-logoBlue rounded-xl transition-colors duration-200",children:(0,l.jsx)(n.dSq,{className:"text-sm"})})]})})]},s))}),(0,l.jsxs)("div",{className:"mt-12 bg-white rounded-3xl border border-gray-200 shadow-lg p-8",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-logoBlue mb-6",children:"Election Summary"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"text-center p-6 bg-logoBlue/5 rounded-2xl border border-logoBlue/10",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-logoBlue rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)(n.I$,{className:"text-white"})}),(0,l.jsx)("div",{className:"text-2xl font-bold text-logoBlue mb-1",children:e.length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Total Candidates"})]}),(0,l.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-2xl border border-green-200",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)(n.SRq,{className:"text-white"})}),(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:e.reduce((e,s)=>e+s.voteCount,0)}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Total Votes"})]}),(0,l.jsxs)("div",{className:"text-center p-6 bg-yellow-50 rounded-2xl border border-yellow-200",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)(n.Xws,{className:"text-white"})}),(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:Math.max(...e.map(e=>e.voteCount),0)}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Highest Votes"})]}),(0,l.jsxs)("div",{className:"text-center p-6 bg-purple-50 rounded-2xl border border-purple-200",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)(n.fCD,{className:"text-white"})}),(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:e.filter(e=>e.voteCount>0).length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"With Votes"})]})]})]})]})})}}},function(e){e.O(0,[699,853,648,634,171,971,23,744],function(){return e(e.s=5734)}),_N_E=e.O()}]);